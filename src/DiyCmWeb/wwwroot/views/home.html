<script>
    $('#myTabs a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })</script>
<!-- Filter search for projects -->
<script language="javascript" type="text/javascript">
    function filter(element) {
        var value = $(element).val().toLowerCase();
        var condition = $('tr[name="filter"]');

        condition.hide();
        condition.filter(function () {
            return $(this).text().toLowerCase().indexOf(value) > -1;
        }).show();
}
</script>
<aside class="right-side">
    <section class="content">

        <div class="row" style="margin-bottom:5px;">
            <div class="col-md-3">
                <div class="sm-st clearfix">
                    <span class="sm-st-icon st-red"><i class="fa fa-check-square-o"></i></span>
                    <div class="sm-st-info">
                        <span>10</span>
                        Upcoming Deadlines
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="sm-st clearfix">
                    <span class="sm-st-icon st-violet"><i class="fa fa-envelope-o"></i></span>
                    <div class="sm-st-info">
                        <span>13</span>
                        Invoices
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="sm-st clearfix">
                    <span class="sm-st-icon st-blue"><i class="fa fa-dollar"></i></span>
                    <div class="sm-st-info">
                        <span>$100,000</span>
                        Balance
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="sm-st clearfix">
                    <span class="sm-st-icon st-green"><i class="fa fa-paperclip"></i></span>
                    <div class="sm-st-info">
                        <span>{{tableProjects.length}}</span>
                        Project(s)
                    </div>
                </div>
            </div>
        </div>

        <!-- Main row -->
        <div class="row">
            <div class="col-md-8">
                <section class="panel">
                    <header class="panel-heading">
                        Projects
                    </header>
                    <!-- Input search box for projects -->
                        <input type="text" onkeyup="filter(this)" placeholder="Search..." />
                        <ul id="myTabs" class="nav nav-tabs">
                            <li role="presentation"><a href="#div_budget_actual" aria-controls="div_budget_actual" role="tab" data-toggle="tab">Budget vs Actual</a></li>
                            <li role="presentation" class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="" role="button" aria-haspopup="true" aria-expanded="false">
                                    Categories <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li role="presentation"><a href="#div_categories_summary" aria-controls="div_categories_summary" role="tab" data-toggle="tab">Categories Summary</a></li>
                                    <li role="presentation"><a href="#div_categories_details" aria-controls="div_categories_details" role="tab" data-toggle="tab">Categories Details</a></li>
                                </ul>
                            </li>
                            <li role="presentation" class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="" role="button" aria-haspopup="true" aria-expanded="false">
                                    Sub-Categories <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li role="presentation"><a href="#div_subcategories_summary" aria-controls="div_subcategories_summary" role="tab" data-toggle="tab">SubCategories Summary</a></li>
                                    <li role="presentation"><a href="#div_subcategories_details" aria-controls="div_subcategories_details" role="tab" data-toggle="tab">SubCategories Details</a></li>
                                </ul>
                            </li>
                            <li role="presentation"><a href="#div_activities" aria-controls="div_activities" role="tab" data-toggle="tab">Activities</a></li>
                        </ul>
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="div_budget_actual">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-7">Project</th>
                                        <th class="col-md-3">Budget</th>
                                        <th class="col-md-3">Actual</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="p in tableProjects">
                                        <td>{{ p.ProjectName }}</td>
                                        <td>{{ p.BudgetAmount }}</td>
                                        <td>{{ p.ActualAmount }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="div_categories_summary">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-4">Project</th>
                                        <th class="col-md-2">Category</th>
                                        <th class="col-md-2">Budget</th>
                                        <th class="col-md-2">Actual</th>
                                        <th class="col-md-4">% Completed</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="cs in tableCategories">
                                        <td>{{ cs.ProjectName }}</td>
                                        <td>{{ cs.CategoryName }}</td>
                                        <td>{{ cs.BudgetAmount }}</td>
                                        <td>{{ cs.ActualAmount }}</td>
                                        <td>{{ cs.PercentCompleted }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="div_categories_details">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-4">Project</th>
                                        <th class="col-md-2">Category</th>
                                        <th class="col-md-2">Budget</th>
                                        <th class="col-md-2">Actual</th>
                                        <th class="col-md-2">% Completed</th>
                                        <th class="col-md-2">Part</th>
                                        <th class="col-md-2">Unit Price</th>
                                        <th class="col-md-2">Supplier</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="cd in tableCategories">
                                        <td>{{ cd.ProjectName }}</td>
                                        <td>{{ cd.CategoryName }}</td>
                                        <td>{{ cd.BudgetAmount }}</td>
                                        <td>{{ cd.ActualAmount }}</td>
                                        <td>{{ cd.PercentCompleted }}</td>
                                        <td>{{ cd.PartDescription }}</td>
                                        <td>{{ cd.PartUnitPrice }}</td>
                                        <td>{{ cd.SupplierName }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="div_subcategories_summary">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-4">Project</th>
                                        <th class="col-md-2">Category</th>
                                        <th class="col-md-2">SubCategory</th>
                                        <th class="col-md-2">Budget</th>
                                        <th class="col-md-2">Actual</th>
                                        <th class="col-md-3">% Completed</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="scs in tableSubCategories">
                                        <td>{{ scs.ProjectName }}</td>
                                        <td>{{ scs.CategoryName }}</td>
                                        <td>{{ scs.SubCategoryName }}</td>
                                        <td>{{ scs.BudgetAmount }}</td>
                                        <td>{{ scs.ActualAmount }}</td>
                                        <td>{{ scs.PercentCompleted }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="div_subcategories_details">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-4">Project</th>
                                        <th class="col-md-2">Category</th>
                                        <th class="col-md-2">SubCategory</th>
                                        <th class="col-md-2">Part</th>
                                        <th class="col-md-2">% Completed</th>
                                        <th class="col-md-2">Unit Price</th>
                                        <th class="col-md-2">% Discount</th>
                                        <th class="col-md-2">Supplier</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="scd in tableSubCategories">
                                        <td>{{ scd.ProjectName }}</td>
                                        <td>{{ scd.CategoryName }}</td>
                                        <td>{{ scd.SubCategoryName }}</td>
                                        <td>{{ scd.PartDescription }}</td>
                                        <td>{{ scd.PercentCompleted }}</td>
                                        <td>{{ scd.PartUnitPrice }}</td>
                                        <td>{{ scd.PercentCompleted }}</td>
                                        <td>{{ scd.SupplierName }}</td>
                                    </tr>
                                </table>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="div_activities">
                                <table class="table table-hover">
                                    <tr>
                                        <th class="col-md-4">Project</th>
                                        <th class="col-md-2">Part</th>
                                        <th class="col-md-2">Area</th>
                                        <th class="col-md-2">Start</th>
                                        <th class="col-md-2">End</th>
                                        <th class="col-md-2">Supplier</th>
                                    </tr>
                                    <tr name="filter" ng-repeat="a in tableActivities">
                                        <td>{{ a.ProjectName }}</td>
                                        <td>{{ a.PartDescription }}</td>
                                        <td>{{ a.AreaRoom }}</td>
                                        <td>{{ a.StartDate }}</td>
                                        <td>{{ a.ExpiryDate }}</td>
                                        <td>{{ a.Supplier }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

</section>
            </div><!--end project list -->
            <div class="col-md-4">
                <section class="panel">
                    <header class="panel-heading">
                        Notifications
                    </header>
                    <div class="panel-body" id="noti-box">

                        <div class="alert alert-block alert-danger">
                            <button data-dismiss="alert" class="close close-sm" type="button">
                                <i class="fa fa-times"></i>
                            </button>
                            <strong>Oh snap!</strong> Change a few things up and try submitting again.
                        </div>
                        <div class="alert alert-success">
                            <button data-dismiss="alert" class="close close-sm" type="button">
                                <i class="fa fa-times"></i>
                            </button>
                            <strong>Well done!</strong> You successfully read this important alert message.
                        </div>
                        <div class="alert alert-info">
                            <button data-dismiss="alert" class="close close-sm" type="button">
                                <i class="fa fa-times"></i>
                            </button>
                            <strong>Heads up!</strong> This alert needs your attention, but it's not super important.
                        </div>
                        <div class="alert alert-warning">
                            <button data-dismiss="alert" class="close close-sm" type="button">
                                <i class="fa fa-times"></i>
                            </button>
                            <strong>Warning!</strong> Best check yo self, you're not looking too good.
                        </div>
                    </div>
                </section>
            </div>

        </div><!-- end main row -->
    </section><!-- /.content -->
</aside><!-- /.right-side -->
